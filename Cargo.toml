[package]
name = "distinst"
version = "0.5.0"
description = "Distribution Installer Backend"
repository = "https://github.com/pop-os/distinst"
categories = ["os::unix-apis"]
keywords = ["linux", "distribution", "installer"]
authors = [
    "Jeremy Soller <jackpot51@gmail.com>",
    "Michael Aaron Murphy <michael@system76.com>"
]
license = "LGPL-3.0"
readme = "README.md"

[workspace]
members = [
    "cli",
    "ffi",
    "crates/bootloader",
    "crates/chroot",
    "crates/disks",
    "crates/disk-ops",
    "crates/external",
    "crates/hardware",
    "crates/locales",
    "crates/logind-dbus",
    "crates/squashfs",
    "crates/utils",
]

[lib]
name = "distinst"
crate-type = ["lib"]

[dev-dependencies]
pbr = "1.0.1"

[dependencies]
cascade = "0.1.2"
dirs = "1.0.3"
disk-types = { git = "https://github.com/pop-os/disk-types" }
distinst-bootloader = { path = "crates/bootloader" }
distinst-chroot = { path = "crates/chroot" }
distinst-disks = { path = "crates/disks" }
distinst-external-commands = { path = "crates/external" }
distinst-hardware-support = { path = "crates/hardware" }
distinst-locale-support = { path = "crates/locales" }
distinst-squashfs = { path = "crates/squashfs" }
distinst-utils = { path = "crates/utils" }
envfile = { git = "https://github.com/pop-os/envfile" }
fern = "0.5.6"
fstab-generate = { git = "https://github.com/pop-os/fstab-generate" }
hostname-validator = { git = "https://github.com/pop-os/hostname-validator" }
itertools = "0.7.8"
libc = "0.2.43"
libparted = "0.1.3"
log = "0.4.5"
logind-dbus = { path = "crates/logind-dbus" }
os-detect = { git = "https://github.com/pop-os/os-detect" }
os-release = { git = "https://github.com/pop-os/os-release" }
partition-identity = "0.1.2"
proc-mounts = { git = "https://github.com/pop-os/proc-mounts" }
rayon = "1.0.2"
sys-mount = "1.1.0"
tempdir = "0.3.7"

[dependencies.failure]
version = "0.1.2"
default-features = false
features = ["derive"]

[dependencies.failure_derive]
version = "0.1.2"

[profile.release]
debug = true
